<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.js"></script>
	<script src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
</head>
<body>wx</body>
<script type="text/javascript">
	$.ajax({
    url: '/api/getSignature' // 此处url请求地址需要替换成你自己实际项目中服务器数字签名服务地址
        ,
    type: 'post',
    data: {
    	code: 'dev',
        url: location.href.split('#')[0] // 将当前URL地址上传至服务器用于产生数字签名
    },
    success:function(r) {
    // 返回了数字签名对象
    r= r.data;
    console.log(r);
    console.log(r.appId);
    console.log(r.timestamp);
    console.log(r.nonceStr);
    console.log(r.signature);

    // 开始配置微信JS-SDK
    wx.config({
        debug: false,
        appId: r.appId,
        timestamp: r.timestamp,
        nonceStr: r.nonceStr,
        signature: r.signature,
        jsApiList: [
            'checkJsApi',
            'onMenuShareTimeline',//分享给好友
            'onMenuShareAppMessage'//分享到朋友圈
        ]
    });

    // 调用微信API
    wx.ready(function() {
        

        
    });
    wx.error(function(res) {
    	console.log('失败了')
        alert(res.errMsg);
    });
}
})



</script>
</html>